<div class="ml-81 main mr-4">
  <div class="row col-12 mb-0">
    <p class="mb-0">
      <span class="top-heading top-heading-container">&nbsp;&nbsp;Insights</span>
    </p>
  </div>
  <div class="row pl-3 pr-3" *ngIf="insightList && insightList.length; else noInsights">
    <div class="col-md-6">
      <div class="d-flex justify-content-between">
        <span class="pl-3 insight-title">Choose Insights</span>
        <div class="form-check mt-2 mr-4">
          <label class="form-check-label mr-4 select-font" for="flexCheckChecked">
            SELECT ALL&nbsp;&nbsp;&nbsp;
          </label>
          <input class="form-check-input largerCheckbox" type="checkbox" value="" id="flexCheckChecked" checked
            (change)="selectDeselectAll($event)" [(ngModel)]="selectAll" />
        </div>
      </div>

      <div class="row col-md-12 col-lg-12 col-12 w-100 pl-3 pr-3 insights-outer-container">
        <div class="d-flex w-100 pl-2 pr-3" *ngFor="let insightData of insightList">
          <div class="text-right justify-content-end">
            <div class="form-check mt-2 ml-0">
              <input type="checkbox" class="form-check-input largerCheckbox"
                (change)="addOrDeleteMember(insightData, $event)" [(ngModel)]="insightData.checked" />
            </div>
          </div>
          <div class="w-100">
            <ngb-accordion  activeIds="ngb-panel-0" [animation]="true" #acc="ngbAccordion" [activeIds]="activeId"  (panelChange)="toggleAccordian($event)"
              activeIds="ngb-panel" (click)="
                showDescription(
                  insightData.description,
                  insightData.insightVisual
                )
              ">
              <!-- <ngb-panel title=" {{ insightData.title }}"> -->
              <ngb-panel>
                <ng-template ngbPanelTitle class="d-flex">
                  <span class="float-left title">{{ insightData.title }}</span>
                  <span class="float-right compute-units">Compute units - {{ insightData.quotaDemand }} &nbsp;&nbsp;<img
                      src="assets/img/lens/down-arrow.png" class="rotate-down" alt=""></span>
                </ng-template>
                <ng-template ngbPanelContent class="d-flex">
                  <span class="description">{{ insightData.description }}</span>
                </ng-template>
              </ngb-panel>
            </ngb-accordion>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-6 pr-0">
      <div class="d-flex justify-content-between">
        <span class="insight-title" [ngStyle]="insightDescription?{color:'black'}:{color:'rgb(0,0,0,0.4)'}" >Understanding</span>
        <button class="btn btn-shona ml-0" (click)="updateAll()">Update</button>
      </div>

        <div class="row col-md-12 col-lg-12 insights-outer-container pr-0" [ngStyle]="insightDescription ? { background   :'white', height:'auto'} : {background:'#00000029',height:'472px',border:'none',color:'#00000029',overflow :'hidden' }" >
        <div class="row col-md-12 col-lg-12 w-100 ">
          <div class="m-2 about" [ngStyle]="insightDescription ? { color :'black'} : {color:'rgba(0,0,0,0)' }"  >About Insight</div>

        </div>
        <span class="mb-3 m-2 font-description">{{ insightDescription }}</span>
        <br />
        <h5 class="m-2 about"  [ngStyle]="insightDescription ? { color :'black'} : {color:'rgba(0,0,0,0)' }" >Insight Visual Understanding</h5>
        <div class="col-md-12 pl-1" [ngStyle]="insightDescription ? { display:'block'} : {display:'none' }"  >
          <div class="insight-visual-container col-md-12"  >
            <div class="row col-md-12 col-lg-12 w-100 justify-content-center text-center pr-0"  >
              <img class="img" [src]="imageUrl" alt="No Image Found" />
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <ng-template #noInsights>
    <div class="nodata">
      <img src="assets/img/no-data.svg" class="no-found-img">
      <div class="mb-5">
        <span class="text mt-0"> No available insights </span>
      </div>
    </div>
  </ng-template>
</div>
